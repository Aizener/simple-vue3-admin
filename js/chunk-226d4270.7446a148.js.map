{"version":3,"sources":["webpack:///./src/views/permission/index.vue?572b","webpack:///./src/views/permission/index.vue","webpack:///./src/views/permission/index.vue?0c45","webpack:///./src/views/permission/index.vue?037b"],"names":["class","userInfo","role","handleChange","label","setup","store","router","state","user","value","tokens","admin","visitor","dispatch","token","then","push","path","render","__scopeId"],"mappings":"kHAAA,W,sKCCOA,MAAM,c,GAEJA,MAAM,U,iBAAS,W,iBAGe,O,iBACE,M,gJANvC,eASM,MATN,EASM,CARJ,eAAgC,SAA7B,SAAM,eAAG,EAAAC,SAASC,MAAI,GACzB,eAMM,MANN,EAMM,C,EAJJ,eAGiB,G,WAHQ,EAAAA,K,qCAAA,EAAAA,KAAI,GAAG,SAAQ,EAAAC,c,WACtC,IAAoD,CAApD,eAAoD,GAAnCC,MAAM,SAAO,C,UAAC,IAAG,C,UAClC,eAAqD,GAApCA,MAAM,WAAS,C,UAAC,IAAE,C,gFCF5B,GACbC,MAAA,WACE,IAAMC,EAAQ,iBACRC,EAAS,iBACPN,EAAa,eAAOK,EAAME,MAAMC,MAAK,SACvCP,EAAO,eAAID,EAASS,MAAMR,MAE1BS,EAEF,CACFC,MAAO,8BACPC,QAAS,+BAGLV,EAAe,SAACC,GACpBE,EAAMQ,SAAS,aAAc,CAAEC,MAAOJ,EAAOP,KAAUY,MAAK,WAC1DT,EAAOU,KAAK,CAAEC,KAAM,UAIxB,MAAO,CACLf,aAAY,EACZF,SAAQ,EACRC,KAAI,K,UCvBV,EAAOiB,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-226d4270.7446a148.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=2e5ee5c7&lang=scss&scoped=true\"","<template>\r\n  <div class=\"permission\">\r\n    <p>您的角色是：{{ userInfo.role }}</p>\r\n    <div class=\"switch\">\r\n      切换权限：\r\n      <el-radio-group v-model=\"role\" @change=\"handleChange\">\r\n        <el-radio-button label=\"admin\">管理员</el-radio-button>\r\n        <el-radio-button label=\"visitor\">普通</el-radio-button>\r\n      </el-radio-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { toRefs, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const { userInfo } = toRefs(store.state.user)\r\n    const role = ref(userInfo.value.role)\r\n\r\n    const tokens: {\r\n      [propName: string]: any\r\n    } = {\r\n      admin: 'abcdefghijklmnopqrstuvwxyz0',\r\n      visitor: 'abcdefghijklmnopqrstuvwxyz1'\r\n    }\r\n\r\n    const handleChange = (label: string) => {\r\n      store.dispatch('user/login', { token: tokens[label] }).then(() => {\r\n        router.push({ path: '/' })\r\n      })\r\n    }\r\n\r\n    return {\r\n      handleChange,\r\n      userInfo,\r\n      role\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.permission {\r\n  padding: 30px;\r\n  .switch {\r\n    margin-top: 15px;\r\n  }\r\n}\r\n</style>","\r\nimport { toRefs, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const { userInfo } = toRefs(store.state.user)\r\n    const role = ref(userInfo.value.role)\r\n\r\n    const tokens: {\r\n      [propName: string]: any\r\n    } = {\r\n      admin: 'abcdefghijklmnopqrstuvwxyz0',\r\n      visitor: 'abcdefghijklmnopqrstuvwxyz1'\r\n    }\r\n\r\n    const handleChange = (label: string) => {\r\n      store.dispatch('user/login', { token: tokens[label] }).then(() => {\r\n        router.push({ path: '/' })\r\n      })\r\n    }\r\n\r\n    return {\r\n      handleChange,\r\n      userInfo,\r\n      role\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./index.vue?vue&type=template&id=2e5ee5c7&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=2e5ee5c7&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2e5ee5c7\"\n\nexport default script"],"sourceRoot":""}