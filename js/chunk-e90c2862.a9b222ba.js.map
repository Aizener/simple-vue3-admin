{"version":3,"sources":["webpack:///./src/views/mock/index.vue","webpack:///./src/views/mock/index.vue?31b5","webpack:///./src/views/mock/index.vue?9138","webpack:///./src/views/mock/index.vue?d0f0"],"names":["class","href","target","ref","model","form1","rules","rules1","label","prop","placeholder","reqUrl","rows","type","resData","style","handleMock","apis","item","idx","key","Number","url","form2","rules2","readonly","value","JSON","stringify","handleReq","setup","proxy","state","required","message","form1Ref","form2Ref","validate","then","isValidate","replace","indexOf","resDate","parse","err","$message","error","mock","RegExp","push","data","resetFields","get","res","catch","render","__scopeId"],"mappings":"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","file":"js/chunk-e90c2862.a9b222ba.js","sourcesContent":["<template>\r\n  <p class=\"mock-title\">数据模拟是通过<a href=\"http://mockjs.com/i\" target=\"_blank\">mock.js</a>生成，请求是通过<a href=\"http://www.axios-js.com/\" target=\"_blank\">axios</a>完成</p>\r\n  <div class=\"mock\">\r\n    <div class=\"left\">\r\n      <h3>数据模拟</h3>\r\n      <div class=\"mock-box\">\r\n        <el-form ref=\"form1Ref\" :model=\"form1\" :rules=\"rules1\">\r\n          <el-form-item label=\"请求接口\" prop=\"reqUrl\">\r\n            <el-input placeholder=\"例如：/demo\" v-model=\"form1.reqUrl\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\" 响应数据：\" prop=\"resData\">\r\n            <el-input :rows=\"4\" type=\"textarea\" placeholder='例如：{ \"code\": 200, \"msg\": \"ok\" }' v-model=\"form1.resData\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"text-align: right;\">\r\n            <el-button type=\"primary\" @click=\"handleMock\">生成数据</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"list\">\r\n        <p>临时生成接口：</p>\r\n        <p v-for=\"(item, idx) in apis\" :key=\"Number(idx)\">\r\n          接口名称：{{ item.url }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"right\">\r\n      <h3>数据请求</h3>\r\n      <div class=\"mock-req\">\r\n        <el-form ref=\"form2Ref\" :model=\"form2\" :rules=\"rules2\">\r\n          <el-form-item prop=\"reqUrl\" label=\"请求地址\">\r\n            <el-input v-model=\"form2.reqUrl\" placeholder=\"例如：/demo\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\" 响应数据：\">\r\n            <el-input :rows=\"4\" readonly type=\"textarea\" placeholder='例如：{ \"code\": 200, \"msg\": \"ok\" }' :value=\"JSON.stringify(form2.resData)\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"text-align: right;\">\r\n            <el-button type=\"primary\" @click=\"handleReq\">请求数据</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Mock from 'mockjs'\r\nimport { ref, reactive, getCurrentInstance } from 'vue'\r\nimport axios from '@/utils/request'\r\n\r\ninterface StateType {\r\n  form1: any,\r\n  rules1: any,\r\n  form2: any,\r\n  rules2: any,\r\n  apis: any\r\n}\r\n\r\nexport default {\r\n  setup() {\r\n    const { proxy }: any = getCurrentInstance()\r\n\r\n    const state = reactive<StateType>({\r\n      form1: {\r\n        reqUrl: '',\r\n        resData: ''\r\n      },\r\n      rules1: {\r\n        reqUrl: { required: true, message: '请输入请求接口' },\r\n        resData: { required: true, message: '请输入模拟的响应数据' }\r\n      },\r\n      form2: {\r\n        reqUrl: '',\r\n        resData: ''\r\n      },\r\n      rules2: {\r\n        reqUrl: { required: true, message: '请输入请求接口' }\r\n      },\r\n      apis: []\r\n    })\r\n\r\n    const form1Ref = ref()\r\n    const form2Ref = ref()\r\n\r\n    const handleMock = () => {\r\n      form1Ref.value.validate().then((isValidate: boolean) => {\r\n        if (isValidate) {\r\n          const reqUrl = state.form1.reqUrl.replace('\\/', '\\\\\\/')\r\n          if (state.form1.resData.indexOf('[') || state.form1.resDate.indexOf('{')) {\r\n            try {\r\n              state.form1.resData = JSON.parse(state.form1.resData)\r\n            } catch (err) {\r\n              proxy.$message.error({\r\n                type: 'error',\r\n                message: '请检查数据格式'\r\n              })\r\n              return\r\n            }\r\n          }\r\n          Mock.mock(new RegExp(reqUrl), 'get', state.form1.resData)\r\n          state.apis.push({\r\n            url: state.form1.reqUrl,\r\n            data: state.form1.resData\r\n          })\r\n          form1Ref.value.resetFields()\r\n        }\r\n      })\r\n    }\r\n\r\n    const handleReq = () => {\r\n      form2Ref.value.validate().then((isValidate: boolean) => {\r\n        axios.get(state.form2.reqUrl).then(res => {\r\n          state.form2.resData = res\r\n        }).catch(err => {\r\n          state.form2.resData = err.message\r\n        })\r\n      })\r\n    }\r\n\r\n    return {\r\n      ...state,\r\n      form1Ref,\r\n      form2Ref,\r\n      handleReq,\r\n      handleMock\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.mock {\r\n  padding: 30px;\r\n  display: flex;\r\n  &-title {\r\n    margin: 30px;\r\n    padding: 10px;\r\n    background: skyblue;\r\n    color: #fff;\r\n    a {\r\n      color: green;\r\n    }\r\n  }\r\n  &-box, &-req {\r\n    margin-top: 30px;\r\n  }\r\n  .right {\r\n    margin-left: 60px;\r\n  }\r\n  .list > p:nth-child(1) {\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style>","\r\nimport Mock from 'mockjs'\r\nimport { ref, reactive, getCurrentInstance } from 'vue'\r\nimport axios from '@/utils/request'\r\n\r\ninterface StateType {\r\n  form1: any,\r\n  rules1: any,\r\n  form2: any,\r\n  rules2: any,\r\n  apis: any\r\n}\r\n\r\nexport default {\r\n  setup() {\r\n    const { proxy }: any = getCurrentInstance()\r\n\r\n    const state = reactive<StateType>({\r\n      form1: {\r\n        reqUrl: '',\r\n        resData: ''\r\n      },\r\n      rules1: {\r\n        reqUrl: { required: true, message: '请输入请求接口' },\r\n        resData: { required: true, message: '请输入模拟的响应数据' }\r\n      },\r\n      form2: {\r\n        reqUrl: '',\r\n        resData: ''\r\n      },\r\n      rules2: {\r\n        reqUrl: { required: true, message: '请输入请求接口' }\r\n      },\r\n      apis: []\r\n    })\r\n\r\n    const form1Ref = ref()\r\n    const form2Ref = ref()\r\n\r\n    const handleMock = () => {\r\n      form1Ref.value.validate().then((isValidate: boolean) => {\r\n        if (isValidate) {\r\n          const reqUrl = state.form1.reqUrl.replace('\\/', '\\\\\\/')\r\n          if (state.form1.resData.indexOf('[') || state.form1.resDate.indexOf('{')) {\r\n            try {\r\n              state.form1.resData = JSON.parse(state.form1.resData)\r\n            } catch (err) {\r\n              proxy.$message.error({\r\n                type: 'error',\r\n                message: '请检查数据格式'\r\n              })\r\n              return\r\n            }\r\n          }\r\n          Mock.mock(new RegExp(reqUrl), 'get', state.form1.resData)\r\n          state.apis.push({\r\n            url: state.form1.reqUrl,\r\n            data: state.form1.resData\r\n          })\r\n          form1Ref.value.resetFields()\r\n        }\r\n      })\r\n    }\r\n\r\n    const handleReq = () => {\r\n      form2Ref.value.validate().then((isValidate: boolean) => {\r\n        axios.get(state.form2.reqUrl).then(res => {\r\n          state.form2.resData = res\r\n        }).catch(err => {\r\n          state.form2.resData = err.message\r\n        })\r\n      })\r\n    }\r\n\r\n    return {\r\n      ...state,\r\n      form1Ref,\r\n      form2Ref,\r\n      handleReq,\r\n      handleMock\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./index.vue?vue&type=template&id=25284da1&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=25284da1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-25284da1\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=25284da1&lang=scss&scoped=true\""],"sourceRoot":""}